<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>マイページ | キャリア情報を編集・管理 - インノーマル</title>
    <meta name="description" content="自身のキャリアプロフィールや転職成功事例を編集・管理できるマイページ。スキルや学歴・職歴をアップデートして、より的確なキャリアマッチングを実現します。">
    <meta property="og:title" content="マイページ - インノーマル">
    <meta property="og:description" content="あなたのキャリア情報を編集・公開し、他のユーザーと共有して可能性を広げよう。">
    <meta property="og:image" content="https://www.imnormal.jp/images/ogp-mypage.jpg">
    <meta property="og:url" content="https://www.imnormal.jp/Mypage.html">
    <meta property="og:type" content="website">
    <meta name="keywords" content="マイページ, キャリア情報, キャリアストーリー編集, プロフィール, インノーマル">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/mypage.css">
    <link rel="canonical" href="https://www.imnormal.jp/Mypage.html">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="Home.html" class="logo-link">
                <img src="images/company-logo.jpg" alt="インノーマルのロゴ" class="logo-image">
                <h1 class="logo">インノーマル</h1>
            </a>
            <p class="lead-text">〜キャリアの未来を共に創る〜</p>
            <div class="login-button-container">
                <a href="Login.html" id="login-button" class="login-button" style="display: none;">ログイン</a>
                <a href="#" id="logout-button" class="login-button" style="display: none;">ログアウト</a>
            </div>
            <div class="hamburger-menu">☰</div>
        </div>
    </header>
    <aside class="main-menu" id="main-menu">
        <nav>
            <ul>
                <li><a href="Home.html"><img src="images/home-icon.png" alt="ホームアイコン"> ホーム</a></li>
                <li><a href="Career_overview.html"><img src="images/career-icon.png" alt="キャリアストーリーアイコン"> キャリアストーリー</a></li>
                <li><a href="Board.html"><img src="images/board-icon.png" alt="掲示板アイコン"> 掲示板（Q&A）</a></li>
                <li><a href="Mypage.html"><img src="images/mypage-icon.png" alt="マイページアイコン"> マイページ</a></li>
                <li><a href="Contact.html"><img src="images/notification-icon.png" alt="お知らせアイコン"> お知らせ</a></li>
                <li><a href="Contact.html"><img src="images/contact-icon.png" alt="問い合わせアイコン"> お問い合わせ</a></li>
            </ul>
        </nav>
    </aside>

    <main>
        <h2>マイページ</h2>
        <div class="button-group">
            <button type="button" id="edit-button-top">編集</button>
            <button type="submit" id="save-button-top" style="display: none;">保存</button>
        </div>

        <!-- タブメニュー -->
        <div class="tab-menu">
            <button class="tab-link active" data-tab="tab-basic">基本情報</button>
            <button class="tab-link" data-tab="tab-career-details">キャリア詳細</button>
            <button class="tab-link" data-tab="tab-future">今後のキャリア志向</button>
        </div>

        <form id="mypage-form" method="post">
            <!-- タブ1: 基本情報 -->
            <div id="tab-basic" class="tab-content active">
                <h3>基本情報</h3>
                <div class="floating-label">
                    <input type="text" id="username" name="username" required readonly>
                    <label for="username">ユーザ名</label>
                </div>
                <div class="floating-label">
                    <input type="email" id="email" name="email" required readonly>
                    <label for="email">メールアドレス</label>
                </div>
                <div class="floating-label">
                    <input type="text" id="family_name" name="family_name" readonly>
                    <label for="family_name">姓</label>
                </div>
                <div class="floating-label">
                    <input type="text" id="given_name" name="given_name" readonly>
                    <label for="given_name">名</label>
                </div>
                <div class="floating-label">
                    <input type="date" id="birthdate" name="birthdate" readonly>
                    <label for="birthdate">生年月日</label>
                </div>
                <div class="floating-label">
                    <select id="gender" name="gender" disabled>
                        <option value="" disabled selected>性別を選択してください</option>
                        <option value="男性">男性</option>
                        <option value="女性">女性</option>
                        <option value="その他">その他</option>
                    </select>
                    <label for="gender">性別</label>
                </div>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="newsletter_subscription" name="newsletter_subscription" disabled>
                        キャリアストーリーの通知メールを受信する
                    </label>
                </div>

                <h3>学歴</h3>
                <div class="floating-label">
                    <input type="text" id="institution" name="institution" readonly>
                    <label for="institution">学校名</label>
                </div>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="hide_institution" name="hide_institution">
                        学歴を非公開にする
                    </label>
                </div>
                <div class="floating-label">
                    <input type="text" id="degree" name="degree" readonly>
                    <label for="degree">学部</label>
                </div>
                <div class="floating-label">
                    <input type="text" id="major" name="major" readonly>
                    <label for="major">学科</label>
                </div>
                <div class="floating-label">
                    <input type="date" id="education_start" name="education_start" readonly>
                    <label for="education_start">入学日</label>
                </div>
                <div class="floating-label">
                    <input type="date" id="education_end" name="education_end" readonly>
                    <label for="education_end">卒業日</label>
                </div>
                <input type="hidden" id="education_id" name="education_id">

                <h3>職歴</h3>
                <div id="job-experiences-container">
                    <!-- 職歴フィールドを動的に追加 -->
                </div>
                <button type="button" id="add-job-experience" style="display: none;">職歴を追加</button>
            </div>

            <!-- ▼▼▼ タブ2: キャリア詳細 ▼▼▼ -->
            <div id="tab-career-details" class="tab-content">

                <!-- (1) キャリアのスタート地点 -->
                <h3>キャリアのスタート地点</h3>

                <!-- 折りたたみブロック -->
                <div class="section-explain collapsible-block">
                    <div class="collapsible-summary">
                        <strong>なぜ書くといい？</strong><br>
                        - 同じ業界を目指すユーザの参考になり、閲覧数が増える可能性<br>
                        - あなたの具体的な選択理由が「共感」や「アドバイス」を呼びやすい<br>
                        （※いずれも任意入力です。後ほど追記も可能）
                        <br><br>
                        <span class="toggle-btn">もっと見る</span>
                    </div>
                    <div class="collapsible-details" style="display:none;">
                        <p>
                            ここでは初めての仕事（新卒など）や、最初にどの業界を選んだかの理由を入力できます。<br>
                            <em>詳しく書くほど、他のユーザがあなたの選んだ道をイメージしやすくなります。</em>
                        </p>
                        <p>例:</p>
                        <ul>
                            <li>興味を持ったきっかけやエピソード</li>
                            <li>他の業界と迷った点 / 最終的に選んだ決め手</li>
                            <li>学生時代や前職で得たスキルが活かせる理由 etc.</li>
                        </ul>
                        <p class="toggle-btn">閉じる</p>
                    </div>
                </div>
                <!-- 入力フィールド -->
                <div class="floating-label">
                    <textarea id="start_reason" name="start_reason" readonly></textarea>
                    <label for="start_reason">どのような経緯・理由でその職業・業界を選びましたか？（任意）</label>
                    <p class="textarea-guide">
                        書き方のヒント：<br>
                        - 興味を持ったきっかけやエピソード<br>
                        - 他の業界と迷った点 / 最終的に選んだ決め手<br>
                        - 学生時代や前職で得たスキルが活かせると思った理由 etc.
                    </p>
                </div>

                <div class="floating-label">
                    <textarea id="first_job_feedback" name="first_job_feedback" readonly></textarea>
                    <label for="first_job_feedback">新卒または初めての仕事での経験や感想（任意）</label>
                    <p class="textarea-guide">
                        具体的に書くと、同じ初職を歩んだ人との交流やフィードバックを得やすくなります。<br>
                        例：<br>
                        - 入社後に感じたギャップや驚き<br>
                        - 一番苦労した部分 / 成長できたところ<br>
                        - 上司や同期との関係 etc.
                    </p>
                </div>
                <input type="hidden" id="start_point_id" name="start_point_id">

                <!-- (2) キャリアの転機 -->
                <h3>キャリアの転機</h3>
                <div class="section-explain collapsible-block">
                    <div class="collapsible-summary">
                        あなたのキャリアを大きく変えたタイミングについて書けます。<br>
                        <strong>なぜ書くといい？</strong><br>
                        - 「どんなきっかけで転職を決断したのか？」を知りたい人が多い<br>
                        - 詳しく書くほど、共感やコメントが集まり、閲覧数アップに繋がります
                        <br><br>
                        <span class="toggle-btn">もっと見る</span>
                    </div>
                    <div class="collapsible-details" style="display:none;">
                        <p>
                            例えば、「転職を考えたきっかけや周囲の反応、実際に動いてみて役立った情報」などを書けば、
                            同じ悩みを抱える人にとって非常に有益な事例になります。
                        </p>
                        <p class="toggle-btn">閉じる</p>
                    </div>
                </div>

                <div class="floating-label">
                    <select id="transition_type" name="transition_type" disabled required>
                        <option value="" disabled selected>選択してください</option>
                        <option value="転職">転職</option>
                        <option value="異動">異動</option>
                        <option value="出向">出向</option>
                        <option value="昇進">昇進</option>
                        <option value="結婚・出産">結婚・出産</option>
                        <option value="その他">その他</option>
                    </select>
                    <label for="transition_type">キャリアの転機となった主な理由（任意）</label>
                </div>
                <div class="floating-label">
                    <textarea id="transition_story" name="transition_story" readonly></textarea>
                    <label for="transition_story">具体的なエピソードや心境の変化があれば教えてください（任意）</label>
                    <p class="textarea-guide">
                        例：<br>
                        - キャリアチェンジを考えたきっかけや出来事<br>
                        - 周囲の反応や自分の気持ちの変化<br>
                        - 実際に動き始めた時に役立った情報 etc.
                    </p>
                </div>
                <div class="floating-label">
                    <textarea id="reason_for_job_change" name="reason_for_job_change" readonly></textarea>
                    <label for="reason_for_job_change">転職を選んだ理由（社内異動ではなく、転職を選んだ理由など）（任意）</label>
                    <p class="textarea-guide">
                        「なぜ転職だったのか？」は非常に多くのユーザが知りたがります。<br>
                        あなたの決断プロセスを共有することで、同じ悩みを抱える人の助けになるかも。
                    </p>
                </div>
                <div class="floating-label">
                    <textarea id="job_experience_feedback" name="job_experience_feedback" readonly></textarea>
                    <label for="job_experience_feedback">転職先での仕事の経験や感想（任意）</label>
                    <p class="textarea-guide">
                        転職後のリアルな感想を詳しく書くと、同じ業界・職種を目指す人にとって
                        とても貴重な情報になります。<br>
                        - 具体的な業務内容・大変だったこと<br>
                        - 前職と比べた違いや学び etc.
                    </p>
                </div>
                <input type="hidden" id="transition_id" name="transition_id">

                <!-- (3) キャリアの達成と失敗経験 -->
                <h3>キャリアの達成と失敗経験</h3>
                <div class="section-explain collapsible-block">
                    <div class="collapsible-summary">
                        ここでは、あなたがこれまで達成したことや失敗談を共有できます。<br>
                        <span class="toggle-btn">もっと見る</span>
                    </div>
                    <div class="collapsible-details" style="display:none;">
                        <p>
                            <strong>なぜ書くといい？</strong><br>
                            - 成功体験：同じ道を歩む人への大きな励み<br>
                            - 失敗体験：後からくる人が同じミスを回避できるヒント<br>
                            書き込むほど、他ユーザからの感謝やコメントが集まるかもしれません。
                        </p>
                        <p class="toggle-btn">閉じる</p>
                    </div>
                </div>

                <div class="floating-label">
                    <textarea id="proudest_achievement" name="proudest_achievement" readonly></textarea>
                    <label for="proudest_achievement">最も誇りに思う達成や、その背景（任意）</label>
                    <p class="textarea-guide">
                        - 達成に至った経緯<br>
                        - 乗り越えた課題や困難は？<br>
                        - 周囲のサポートや学び etc.
                    </p>
                </div>
                <div class="floating-label">
                    <textarea id="failure_experience" name="failure_experience" readonly></textarea>
                    <label for="failure_experience">失敗や挫折した経験（任意）</label>
                    <p class="textarea-guide">
                        失敗談こそ、他ユーザが最も参考にするポイントです。<br>
                        どうして失敗したのか？ 何が足りなかったのか？を書けば、
                        誰かの行動を変えるきっかけになるかもしれません。
                    </p>
                </div>
                <div class="floating-label">
                    <textarea id="lesson_learned" name="lesson_learned" readonly></textarea>
                    <label for="lesson_learned">その経験から学んだこと（任意）</label>
                    <p class="textarea-guide">
                        失敗や成功から得た学びを書くと、あなたのストーリーがぐっと深みを増し、
                        多くの共感・交流を呼ぶきっかけとなります。
                    </p>
                </div>
                <input type="hidden" id="achievement_id" name="achievement_id">
            </div>

            <!-- ▼▼▼ タブ3: 今後のキャリア志向 ▼▼▼ -->
            <div id="tab-future" class="tab-content">
                <h3>今後のキャリア志向</h3>
                <div class="section-explain collapsible-block">
                    <div class="collapsible-summary">
                        ここでは、これからどのようにキャリアを築きたいかを記入できます。<br>
                        <span class="toggle-btn">もっと見る</span>
                    </div>
                    <div class="collapsible-details" style="display:none;">
                        <p>
                            「マネジメントに興味あり」「専門職として極めたい」「起業を目指す」等、
                            あなたの将来像を共有することで、アドバイスや仲間探しに繋がるかもしれません。
                        </p>
                        <p class="toggle-btn">閉じる</p>
                    </div>
                </div>

                <div class="floating-label">
                    <select id="career_type" name="career_type" disabled required>
                        <option value="" disabled selected>選択してください</option>
                        <option value="専門職としてスキルを磨きたい">専門職としてスキルを磨きたい</option>
                        <option value="マネジメント職に就きたい">マネジメント職に就きたい</option>
                        <option value="起業を考えている">起業を考えている</option>
                        <option value="ワークライフバランスを重視したい">ワークライフバランスを重視したい</option>
                        <option value="その他">その他</option>
                    </select>
                    <label for="career_type">今後のキャリア志向（任意）</label>
                    <p class="textarea-guide">
                        ※いずれスカウト機能やマッチング機能が追加されるかもしれません。<br>
                        あなたの将来像を明確にしておくと、ピンポイントの提案が届く可能性がアップします。
                    </p>
                </div>

                <div class="floating-label" id="career_type_other_container" style="display: none;">
                    <input type="text" id="career_type_other" name="career_type_other" readonly>
                    <label for="career_type_other">その他のキャリア志向</label>
                    <p class="textarea-guide">
                        もし上記になくとも、自由に将来像を記載できます。
                    </p>
                </div>

                <div class="floating-label">
                    <textarea id="career_description" name="career_description" readonly></textarea>
                    <label for="career_description">キャリア達成のために取り組んでいること（任意）</label>
                    <p class="textarea-guide">
                        - 資格取得の勉強やセミナー参加<br>
                        - 人脈づくり、コミュニティ活動<br>
                        - 副業、スキルアップのための学習 etc.
                    </p>
                </div>

                <div class="floating-label">
                    <textarea id="career_satisfaction_feedback" name="career_satisfaction_feedback" readonly></textarea>
                    <label for="career_satisfaction_feedback">これまでのキャリアに満足していますか？理由は？（任意）</label>
                    <p class="textarea-guide">
                        自分のキャリアへの満足度を書くと、他のユーザが「どう感じながら働いているか」を参考にできます。
                        本音ベースで書いてOK！<br>
                        - 満足している理由、不満点は何か？<br>
                        - もしやり直せるならこうしたい…など
                    </p>
                </div>
                <input type="hidden" id="career_aspirations_id" name="career_aspirations_id">

                <h3>学びと成長</h3>
                <div class="section-explain collapsible-block">
                    <div class="collapsible-summary">
                        あなたが得たスキルや成長した点を書き留める場所です。<br>
                        <span class="toggle-btn">もっと見る</span>
                    </div>
                    <div class="collapsible-details" style="display:none;">
                        <p>
                            ほかのユーザが「このスキルを身につけたらどんな道が開けるのか？」を知る参考になります。<br>
                            詳しく書くほど、同じスキルを学びたい人から質問が来るかもしれません。
                        </p>
                        <p class="toggle-btn">閉じる</p>
                    </div>
                </div>

                <div class="floating-label">
                    <input type="text" id="skill" name="skill" readonly>
                    <label for="skill">得たスキル</label>
                    <p class="textarea-guide">
                        例：プログラミング言語、資格、コミュニケーション力etc.
                    </p>
                </div>
                <div class="floating-label">
                    <textarea id="growth_description" name="growth_description" readonly></textarea>
                    <label for="growth_description">スキルの詳細説明（任意）</label>
                    <p class="textarea-guide">
                        - どのように学んだか<br>
                        - 実務でどう活かしたか<br>
                        - 習得の大変だった点やコツ
                    </p>
                </div>
                <input type="hidden" id="growth_id" name="growth_id">
            </div>
        </form>
        <div class="button-group">
            <button type="button" id="edit-button-bottom">編集</button>
            <button type="submit" id="save-button-bottom" style="display: none;">保存</button>
        </div>
    </main>
    <footer>
        <p>&copy; 2024 Imnormal</p>
    </footer>
    <!-- JavaScriptファイルのリンクをボディの最後に配置 -->
    <script src="js/hamburgermenu.js"></script>
    <script src="js/session.js"></script> <!-- ログイン状態確認とログアウト処理 -->
    <script src="js/mypage.js"></script> <!-- タブ切り替えやフォーム操作のスクリプト -->
</body>
</html>